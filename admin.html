<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CircuitX Admin Dashboard</title>
  <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
  <!-- Login Screen -->
  <div id="login-screen" class="login-screen">
    <div class="login-box">
      <h1>CircuitX Admin</h1>
      <p>Enter password to access dashboard</p>
      <input type="password" id="password-input" placeholder="Password" autocomplete="off">
      <button id="login-btn" class="btn-primary">Login</button>
      <p id="login-error" class="error-message"></p>
    </div>
  </div>

  <!-- Admin Dashboard -->
  <div id="admin-dashboard" class="admin-container" style="display: none;">
    <header class="admin-header">
      <div class="header-left">
        <h1>CircuitX Admin Dashboard</h1>
        <p class="header-subtitle">Manage kits and blog posts</p>
      </div>
      <div class="admin-actions">
        <button id="save-btn" class="btn-primary">Save Changes</button>
        <button id="export-kits-btn" class="btn-secondary">Export Kits JSON</button>
        <button id="export-blogs-btn" class="btn-secondary">Export Blogs JSON</button>
        <button id="logout-btn" class="btn-danger">Logout</button>
      </div>
    </header>

    <div class="admin-tabs">
      <button class="tab-btn active" data-tab="kits">Kits</button>
      <button class="tab-btn" data-tab="blogs">Blogs</button>
    </div>

    <!-- Kits Management -->
    <div id="kits-tab" class="tab-content active">
      <div class="section-header">
        <h2>Manage Kits</h2>
        <button id="add-kit-btn" class="btn-add">Add New Kit</button>
      </div>
      
      <div id="kits-list" class="items-list">
        <!-- Kit cards will be generated here -->
      </div>
    </div>

    <!-- Blogs Management -->
    <div id="blogs-tab" class="tab-content">
      <div class="section-header">
        <h2>Manage Blog Posts</h2>
        <button id="add-blog-btn" class="btn-add">Add New Blog</button>
      </div>
      
      <div id="blogs-list" class="items-list">
        <!-- Blog cards will be generated here -->
      </div>
    </div>
  </div>

  <!-- Kit Editor Modal -->
  <div id="kit-modal" class="modal">
    <div class="modal-content large-modal">
      <div class="modal-header">
        <h2 id="kit-modal-title">Edit Kit</h2>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <form id="kit-form">
          <div class="form-row">
            <div class="form-group">
              <label>Kit ID (URL-friendly, lowercase, no spaces)</label>
              <input type="text" id="kit-id" required pattern="[a-z0-9_-]+" placeholder="e.g., automata">
              <small>Used in URLs. Cannot be changed after creation.</small>
            </div>
            
            <div class="form-group">
              <label>Title</label>
              <input type="text" id="kit-title" required placeholder="e.g., Automata">
            </div>
          </div>
          
          <div class="form-group">
            <label>Team Name</label>
            <input type="text" id="kit-team" required placeholder="e.g., Noktaparantez #6431">
          </div>
          
          <div class="form-group">
            <label>Short Description</label>
            <textarea id="kit-description" rows="3" required placeholder="Brief description shown on kit card"></textarea>
          </div>
          
          <div class="form-group">
            <label>Detailed Description</label>
            <textarea id="kit-detailed-description" rows="5" placeholder="Full description shown in detail panel"></textarea>
          </div>
          
          <div class="form-group">
            <label>Cover Image</label>
            <div class="file-upload-area" id="cover-upload">
              <p>Drag & drop cover image here or click to browse</p>
              <input type="file" id="cover-file" accept="image/*" style="display: none;">
              <div id="cover-preview" class="image-preview"></div>
            </div>
            <input type="text" id="cover-path" placeholder="assets/kit-name/cover.png" class="path-input">
            <small>Path relative to project root</small>
          </div>
          
          <div class="form-group">
            <label>Kit Assets</label>
            <div class="file-categories">
              
              <!-- Media (Videos) -->
              <div class="file-category">
                <h4>Media (Videos)</h4>
                <div class="file-upload-area" data-category="media" data-accept="video/*">
                  <p>Drop video files here or click to browse</p>
                  <input type="file" multiple accept="video/*" style="display: none;">
                </div>
                <div class="file-list" data-category="media"></div>
              </div>

              <!-- Instructions (PDFs) -->
              <div class="file-category">
                <h4>Instructions (PDFs)</h4>
                <div class="file-upload-area" data-category="Instructions" data-accept=".pdf">
                  <p>Drop PDF files here or click to browse</p>
                  <input type="file" multiple accept=".pdf" style="display: none;">
                </div>
                <div class="file-list" data-category="Instructions"></div>
              </div>

              <!-- CAD Models (STL, STEP, etc.) -->
              <div class="file-category">
                <h4>CAD Models (3D Files)</h4>
                <div class="file-upload-area" data-category="cad_models" data-accept=".stl,.step,.stp,.obj">
                  <p>Drop 3D model files here or click to browse</p>
                  <input type="file" multiple accept=".stl,.step,.stp,.obj" style="display: none;">
                </div>
                <div class="file-list" data-category="cad_models"></div>
              </div>

              <!-- Source Code -->
              <div class="file-category">
                <h4>Source Code</h4>
                <div class="file-upload-area" data-category="Source Code" data-accept=".py,.java,.cpp,.c,.js,.html,.css">
                  <p>Drop code files here or click to browse</p>
                  <input type="file" multiple accept=".py,.java,.cpp,.c,.js,.html,.css" style="display: none;">
                </div>
                <div class="file-list" data-category="Source Code"></div>
              </div>

              <!-- Tutorial Videos -->
              <div class="file-category">
                <h4>Tutorial Videos</h4>
                <div class="file-upload-area" data-category="tutorial_videos" data-accept="video/*">
                  <p>Drop tutorial video files here or click to browse</p>
                  <input type="file" multiple accept="video/*" style="display: none;">
                </div>
                <div class="file-list" data-category="tutorial_videos"></div>
              </div>

              <!-- Downloads (Any files) -->
              <div class="file-category">
                <h4>Downloads (Any Files)</h4>
                <div class="file-upload-area" data-category="downloads" data-accept="*/*">
                  <p>Drop any files here or click to browse</p>
                  <input type="file" multiple style="display: none;">
                </div>
                <div class="file-list" data-category="downloads"></div>
              </div>

            </div>
          </div>
          
          <div class="modal-actions">
            <button type="button" class="btn-secondary" id="kit-cancel-btn">Cancel</button>
            <button type="submit" class="btn-primary">Save Kit</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Blog Editor Modal -->
  <div id="blog-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="blog-modal-title">Edit Blog Post</h2>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <form id="blog-form">
          <div class="form-group">
            <label>Blog ID (URL-friendly)</label>
            <input type="text" id="blog-id" required pattern="[a-z0-9_-]+" placeholder="e.g., blog1">
          </div>
          
          <div class="form-group">
            <label>Title</label>
            <input type="text" id="blog-title" required>
          </div>
          
          <div class="form-group">
            <label>Content</label>
            <textarea id="blog-text" rows="6" required></textarea>
          </div>
          
          <div class="form-group">
            <label>Image</label>
            <div class="file-upload-area" id="blog-image-upload">
              <p>Drag & drop image here or click to browse</p>
              <input type="file" id="blog-image-file" accept="image/*" style="display: none;">
              <div id="blog-image-preview" class="image-preview"></div>
            </div>
            <input type="text" id="blog-image-path" placeholder="blog1.png" class="path-input">
            <small>Path relative to project root</small>
          </div>
          
          <div class="modal-actions">
            <button type="button" class="btn-secondary" id="blog-cancel-btn">Cancel</button>
            <button type="submit" class="btn-primary">Save Blog</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal Overlay -->
  <div id="modal-overlay" class="modal-overlay"></div>

  <script src="admin.js"></script>
</body>
</html>
